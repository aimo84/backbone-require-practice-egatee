!function(o){var e={xzoom:336,yzoom:336,offset:30,position:"right",lens:!0,bigImageUrlAttribute:"jqimg",zoomClassName:"zoomdiv",zoomPupClassName:"jqZoomPup",zoomBigImageClassName:"bigimg"};o.fn.jqueryzoom=function(t){function i(o){var e,t,i="x",a="y",f=o.pageX,m=o.pageY,n=s.offset().left,r=s.offset().top,h=s.children("img").eq(0),d=h[0].offsetWidth,g=h[0].offsetHeight,p=s.siblings("."+l.zoomClassName).eq(0),c=s.find("."+l.zoomPupClassName).eq(0),z=p.find("."+l.zoomBigImageClassName)[0].offsetWidth,u=p.find("."+l.zoomBigImageClassName)[0].offsetHeight;!z||!u||z<d||(isNaN(a)|isNaN(i)&&(a=z/d,i=u/g,c.width(l.xzoom/a),c.height(l.yzoom/i),l.lens&&c.css("visibility","visible")),e=f-c.width()/2-n,t=m-c.height()/2-r,l.lens&&(e=f-c.width()/2<n?0:f+c.width()/2>d+n?d-c.width()-2:e,t=m-c.height()/2<r?0:m+c.height()/2>g+r?g-c.height()-2:t,c.css({top:t,left:e})),p[0].scrollTop=t*i,p[0].scrollLeft=e*a)}var s=o(this),a="",l=o.extend({},e,t||{}),f="undefined"!=typeof _&&_.throttle?_.throttle(i,50,{trailing:!1}):i;s.css("position","relative"),s.mouseenter(function(){var o,e=s.offset().left,t=s.offset().top,i=s.children("img").eq(0);if(!(i.length<1)){var f=i[0].offsetWidth,m=i.attr(l.bigImageUrlAttribute);a=i.attr("alt"),i.attr("alt",""),0==s.find("."+l.zoomClassName).length&&(s.after(["<div class='"+l.zoomClassName+"' style='z-index: 100; position: absolute; top:0px; left:0px; width: 200px; height:200px; background: #fff; border:1px solid #CCC; display:none;text-align: center;overflow: hidden;'>","<img class='"+l.zoomBigImageClassName+"' src='"+m+"'/>","</div>"].join("")),s.append("<div style='z-index: 10; visibility: hidden; position:absolute;top:0px;left:0px; border: 1px solid #fff;background:#fff;opacity: 0.5;filter: alpha(Opacity=50);' class='"+l.zoomPupClassName+"'>&nbsp;</div>")),"right"==l.position?o=e+f+l.offset+l.xzoom>screen.width?e-l.offset-l.xzoom:e+f+l.offset:(o=e-l.xzoom-l.offset,o<0&&(o=e+f+l.offset));var n=s.siblings("."+l.zoomClassName).eq(0);n.css({top:t,left:o,width:l.xzoom+"px",height:l.yzoom+"px"}).show(),l.lens||s.css("cursor","crosshair")}}),s.mousemove(f),s.mouseleave(function(){s.children("img").attr("alt",a),l.lens&&s.find("."+l.zoomPupClassName).remove(),s.siblings("."+l.zoomClassName).remove()})}}(jQuery);