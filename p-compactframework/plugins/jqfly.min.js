!function(t){var e=function(e,n){var i=this,s=t(e);i.init=function(t){this.setOptions(t),!!this.settings.autoPlay&&this.play()},i.setOptions=function(e){this.settings=t.extend(!0,{},o,e);var n=this.settings,i=n.start,a=n.end;s.css({marginTop:"0px",marginLeft:"0px",position:"fixed"}).appendTo("body");var h=Math.min(i.top,a.top)-Math.abs(i.left-a.left)/3;h<n.vertex_Rtop&&(h=Math.min(n.vertex_Rtop,Math.min(i.top,a.top)));var p=Math.sqrt(Math.pow(i.top-a.top,2)+Math.pow(i.left-a.left,2)),r=Math.ceil(Math.min(Math.max(Math.log(p)/.05-75,30),100)/n.speed),f=i.top==h?0:-Math.sqrt((a.top-h)/(i.top-h)),l=(f*i.left-a.left)/(f-1),u=a.left==l?0:(a.top-h)/Math.pow(a.left-l,2);t.extend(!0,n,{count:-1,steps:r,vertex_left:l,vertex_top:h,curvature:u})},i.play=function(){this.move()},i.move=function(){var e=this.settings,o=e.start,n=e.count,i=e.steps,a=e.end,h=o.left+(a.left-o.left)*n/i,p=0==e.curvature?o.top+(a.top-o.top)*n/i:e.curvature*Math.pow(h-e.vertex_left,2)+e.vertex_top;if(null!=a.width&&null!=a.height){var r=i/2,f=a.width-(a.width-o.width)*Math.cos(n<r?0:(n-r)/(i-r)*Math.PI/2),l=a.height-(a.height-o.height)*Math.cos(n<r?0:(n-r)/(i-r)*Math.PI/2);s.css({width:f+"px",height:l+"px","font-size":Math.min(f,l)+"px"})}s.css({left:h+"px",top:p+"px"}),e.count++;var u=window.requestAnimationFrame(t.proxy(this.move,this));n==i&&(window.cancelAnimationFrame(u),this.destroy(),e.onEnd.apply(this))},i.destroy=function(){s.remove()},s.on("load",function(){i.init(n)}).on("error",function(){i.init(n)})},o={version:"1.0.0",autoPlay:!0,vertex_Rtop:20,speed:1.2,src:"",start:{},end:{},onEnd:t.noop};t.fn.fly=function(t){return new e(this,t)}}(jQuery);