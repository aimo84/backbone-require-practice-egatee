<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        .row {
            display: inline-block;
            line-height: 40px;
            text-align: center;
            width: 100%;
        }

        .row_left {
            display: inline-block;
            width: 120px;
            text-align: right;
        }
    </style>
    <script src="../lib/jquery-1.12.3.js"></script>
    <script src="../lib/underscore.js"></script>
    <script src="../lib/backbone.js"></script>
</head>
<body>
<div>
    <div class="row">
        <div class="row_left">用户名称：</div>
        <input type="text" id="username"/>
    </div>
    <div class="row">
        <div class="row_left">用户密码：</div>
        <input type="password" id="pwd"/>
    </div>
    <div class="row">
        <input type="button" content="aaaa" id="login" value="登陆"/>
        <input type="button" value="注册" id="register"/>
    </div>

    <div id="loginlist">

    </div>
</div>
<script type="text/javascript">
    $(function () {
        var User = Backbone.Model.extend({
            username: '',
            password: ''
        });

        var UserList = Backbone.Collection.extend({
            initialize: function (options) {
                this.bind('add', options.view.addList);
            }
        });

        var BaseView = Backbone.View.extend({
            initialize: function (options) {
                console.log(options);
                this.userlist = new UserList({view: this});
            },
            events: {
                'click #login': 'userLogin',
                'click #register': 'userRegister'
            },
            el: $('body'),
            userLogin: function (e) {
                console.log('登陆');
                var username = this.$el.find('#username').val(),
                     userpwd = this.$el.find('#pwd').val();


                var u = new User({username:username, password:userpwd});
                this.userlist.add(u);
            },
            userRegister: function (e) {
                console.log('注册');
            },
            addList: function (model,aaa,tt) {
                console.log(model);
            }
        });
        var view = new BaseView();
    });
</script>
</body>
</html>